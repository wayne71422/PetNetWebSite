@model PetsWebSite.Models.ViewModels.DetailVm

<link href="/css/BillDetail.css" rel="stylesheet" />
<main>
    <div class="container solo h-100">
        <div class="row">
            <!-- 儲值紀錄區塊 -->
            <div class="col-sm-6 mb-3 mb-sm-0">
                <div class="h-100 d-flex flex-column">
                    <h2>儲值紀錄:</h2>
                    <div class="record-content flex-grow-1 overflow-auto">
                        <ul id="charge-records" class="list-unstyled">
                            @if (Model.DepositRecords != null && Model.DepositRecords.Count > 0)
                            {
                                foreach (var record in Model.DepositRecords)
                                {
                                    <li>
                                        @(record.DepositDate.HasValue
                                            ? record.DepositDate.Value.ToString("yyyy/MM/dd HH:mm:ss")
                                            : "無日期")
                                        儲值 @record.DepositAmount 點
                                    </li>
                                }
                            }
                            else
                            {
                                <li>沒有儲值紀錄。</li>
                            }
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 消費明細區塊 -->
            <div class="col-sm-6 mb-3 mb-sm-0">
                <div class="h-100 d-flex flex-column">
                    <h2>消費明細:</h2>
                    <div class="record-content flex-grow-1 overflow-auto">
                        <ul id="consume-records" class="list-unstyled">
                            @if (Model.ConsumptionRecords != null && Model.ConsumptionRecords.Count > 0)
                            {
                                foreach (var record in Model.ConsumptionRecords)
                                {
                                    <li>
                                        @(record.EndDate.HasValue
                                            ? record.EndDate.Value.ToString("yyyy/MM/dd HH:mm:ss")
                                            : "無日期")
                                        消費 @record.Amount 點 (寵物: @record.PetName)
                                    </li>
                                }
                            }
                            else
                            {
                                <li>沒有消費紀錄。</li>
                            }
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 剩餘點數與按鈕 -->
            <div class="col-12">
                <div class="mt-3 d-flex justify-content-between align-items-center">
                    <p class="mb-0">
                        剩餘點數: <strong id="balance">@Model.CurrentBalance</strong>點
                    </p>
                    <button id="add-balance-btn" class="btn btn-primary">
                        我要儲值
                    </button>
                </div>
            </div>
        </div>
    </div>
</main>
